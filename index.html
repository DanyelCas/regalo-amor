<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para el amor de mi vida ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Part√≠culas flotantes -->
    <div id="particles"></div>
    
    <!-- Header rom√°ntico -->
    <header class="header">
        <div class="heart-container">
            <div class="heart"></div>
        </div>
        <h1 class="title">Para Betzi, el amor de mi vida</h1>
        <p class="subtitle">Cada d√≠a a tu lado es un regalo, mi amor üåª‚ù§Ô∏è</p>
    </header>

    <!-- Contadores de d√≠as -->
    <section class="counters-section">
        <div class="counters-container">
            <!--<div class="counter-item">
                <h2>D√≠as desde que nos conocimos</h2>
                <div class="counter" id="meetingCounter">0</div>
                <p>Desde que Daniel y Betzi se conocieron</p>
            </div>-->
            <div class="counter-item">
                <h2>Tiempo como novios</h2>
                <div class="counter" id="relationshipCounter">
                  <div class="counter-box">
                    <div class="number" id="years">0</div>
                    <div class="label">A√±os</div>
                  </div>
                  <div class="counter-box">
                    <div class="number" id="months">0</div>
                    <div class="label">Meses</div>
                  </div>
                  <div class="counter-box">
                    <div class="number" id="days">0</div>
                    <div class="label">D√≠as</div>
                  </div>
                  <div class="counter-box">
                    <div class="number" id="hours">0</div>
                    <div class="label">Horas</div>
                  </div>
                  <div class="counter-box">
                    <div class="number" id="minutes">0</div>
                    <div class="label">Minutos</div>
                  </div>
                  <div class="counter-box">
                    <div class="number" id="seconds">0</div>
                    <div class="label">Segundos</div>
                  </div>
                </div>
                <p>... desde que Daniel y Betzi son novios</p>
              </div>
        </div>
    </section>

    <!-- Carta de amor digital -->
    <section class="love-letter-section">
        <div class="letter-container">
            <h2>Mi carta de amor para ti</h2>
            <div class="letter-content">
                <div class="typing-text" id="loveLetter">
                    Mi querida Betzi, cada d√≠a que pasa me doy cuenta de lo afortunado que soy de tenerte en mi vida. 
                    Tu sonrisa ilumina mis d√≠as m√°s oscuros, tu amor me hace sentir completo. 
                    Contigo he aprendido que el amor verdadero existe, que hay alguien que me entiende sin palabras. 
                    Gracias por ser exactamente como eres, por aceptarme tal como soy. 
                    Te amo m√°s de lo que las palabras pueden expresar. 
                    Eres mi presente, mi futuro, mi todo. Con amor, Daniel ‚ù§Ô∏èüåª
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline de momentos especiales -->
    <section class="timeline-section">
        <h2>Nuestra historia de amor</h2>
        
        <!-- Bot√≥n para agregar nuevo evento -->
        <div class="timeline-controls">
            <button class="add-timeline-btn" onclick="Utils.showAddTimelineForm()">
                ‚ûï Agregar Nuevo Momento
            </button>
        </div>
        
        <div class="timeline">

        </div>
    </section>

    <!-- Galer√≠a de recuerdos con Swiper -->
    <div class="gallery-section">
        <div class="section-header">
            <h2 class="titulo">Nuestros recuerdos</h2>
            <div>
                <button class="add-btn" onclick="Utils.showAddGalleryForm()" title="Agregar nueva foto">
                    ‚ûï Agregar Nuevo Recuerdo
                </button>
            </div>
        </div>
        <div class="swiper gallery-swiper">
            <div class="swiper-wrapper" id="gallerySwiperWrapper">
                <!-- Las tarjetas se agregan din√°micamente aqu√≠ -->
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            
            <div class="swiper-pagination"></div>
        </div>
        <div class="gallery-actions-bar">
            <button class="show-all-btn" onclick="LovePage.showAllGalleryModal()">Ver todos los recuerdos</button>
        </div>
    </div>

    <!-- Modal para mostrar todos los recuerdos -->
    <div class="modal-overlay" id="allGalleryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üì∏ Todos los recuerdos</h3>
                <button class="close-modal" onclick="LovePage.closeAllGalleryModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="gallery-all all-gallery-list"></div>
            </div>
        </div>
    </div>

    <!-- Vista de pantalla completa para recuerdos (estilo Facebook) -->
    <div class="fullscreen-memory-overlay" id="fullscreenMemoryOverlay">
        <div class="fullscreen-memory-container">
            <!-- Header con navegaci√≥n -->
            <div class="fullscreen-header">
                <button class="back-btn" id="fullscreenBackBtn" onclick="LovePage.closeFullscreenMemory()">
                    <span class="back-arrow">‚Üê</span>
                    <span class="back-text">Atr√°s</span>
                </button>
                <h2 id="fullscreenMemoryTitle">T√≠tulo del Recuerdo</h2>
                <div class="header-actions">
                    <button class="action-btn" onclick="LovePage.editFromFullscreen()" title="Editar recuerdo">
                        ‚úèÔ∏è Editar
                    </button>
                </div>
            </div>

            <!-- Contenido principal -->
            <div class="fullscreen-content">
                <!-- Carrusel de im√°genes (lado izquierdo) -->
                <div class="fullscreen-carousel-container">
                    <div class="fullscreen-carousel" id="fullscreenCarousel">
                        <!-- Las im√°genes se cargar√°n aqu√≠ -->
                    </div>
                    
                    <!-- Controles del carrusel -->
                    <div class="fullscreen-carousel-controls">
                        <button class="carousel-btn prev-btn" onclick="LovePage.prevFullscreenPhoto()">‚ùÆ</button>
                        <button class="carousel-btn next-btn" onclick="LovePage.nextFullscreenPhoto()">‚ùØ</button>
                    </div>
                    
                    <!-- Indicadores -->
                    <div class="fullscreen-carousel-indicators" id="fullscreenCarouselIndicators">
                        <!-- Los indicadores se generar√°n aqu√≠ -->
                    </div>
                    
                    <!-- Informaci√≥n de la foto actual -->
                    <div class="photo-counter" id="fullscreenPhotoCounter">Foto 1 de 3</div>
                </div>

                <!-- Sidebar con informaci√≥n del recuerdo (lado derecho) -->
                <div class="fullscreen-sidebar">
                    <div class="memory-info-card">
                        <div class="memory-header">
                            <h3 id="fullscreenMemoryTitleSidebar">T√≠tulo del Recuerdo</h3>
                            <span class="memory-date" id="fullscreenMemoryDate">Fecha</span>
                        </div>
                        
                        <div class="memory-description">
                            <p id="fullscreenMemoryDescription">Descripci√≥n del recuerdo...</p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mensajes rom√°nticos aleatorios -->
    <section class="messages-section">
        <div class="message-container">
            <div class="message" id="randomMessage">
                Te amo muuuuuuucho, mucho, mucho, mi Betzi ‚ù§Ô∏èüåª
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Sugerencias -->
    <section class="suggestions-section">
        <h2>üíå Nuestros Buzoncitos de Amor</h2>
        <p class="suggestions-subtitle">Comparte tus pensamientos, sugerencias y mensajes especiales</p>
        
        <!-- Bot√≥n de login para invitados -->
        <div class="login-prompt" id="loginPrompt" style="display: none;">
            <div class="login-prompt-content">
                <h3>üîí Acceso Restringido</h3>
                <p>Para escribir mensajes de amor, necesitas iniciar sesi√≥n</p>
                <button class="show-login-btn" onclick="authUI.showLoginModal()">
                    <span>üíï Iniciar Sesi√≥n</span>
                </button>
            </div>
        </div>
        
        <div class="mailboxes-container">
            <!-- Buz√≥n de Daniel -->
            <div class="mailbox daniel-mailbox">
                <div class="mailbox-header">
                    <h3>üìÆ Buz√≥n de Daniel</h3>
                    <div class="mailbox-icon">üë®‚Äçüíº</div>
                </div>
                <div class="mailbox-content">
                    <div class="suggestion-form">
                        <textarea id="danielSuggestion" placeholder="Escribe aqu√≠ tu sugerencia, pensamiento o mensaje para Daniel... üíï" maxlength="500"></textarea>
                        <div id="danielSuggestionCount" class="char-counter">
                            <span id="danielCharCount">0</span>/500
                        </div>
                        <button id="danielButtonSend" class="send-suggestion" onclick="sendSuggestion('daniel')">
                            <span>üì§ Enviar</span>
                        </button>
                    </div>
                    <div class="suggestions-list" id="danielSuggestions">
                        <!-- Las sugerencias se agregar√°n din√°micamente -->
                    </div>
                </div>
            </div>

            <!-- Buz√≥n de Betzi -->
            <div class="mailbox betzi-mailbox">
                <div class="mailbox-header">
                    <h3>üìÆ Buz√≥n de Betzi</h3>
                    <div class="mailbox-icon">üë©‚Äçüíº</div>
                </div>
                <div class="mailbox-content">
                    <div class="suggestion-form">
                        <textarea id="betziSuggestion" placeholder="Escribe aqu√≠ tu sugerencia, pensamiento o mensaje para Betzi... üíï" maxlength="500"></textarea>
                        <div id="betziSuggestionCount" class="char-counter">
                            <span id="betziCharCount">0</span>/500
                        </div>
                        <button id="betziButtonSend" class="send-suggestion" onclick="sendSuggestion('betzi')">
                            <span>üì§ Enviar</span>
                        </button>
                    </div>
                    <div class="suggestions-list" id="betziSuggestions">
                        <!-- Las sugerencias se agregar√°n din√°micamente -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>Hecho con ‚ù§Ô∏è para ti, Betzi - Con amor, Daniel</p>
        <div class="floating-hearts">
            <span>‚ù§Ô∏è</span>
            <span>üíï</span>
            <span>üåª</span>
            <span>üíñ</span>
            <span>üå∑</span>
            <span>üíù</span>
        </div>
    </footer>

    <!-- Panel de Administraci√≥n -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h3>‚öôÔ∏è Panel de Administraci√≥n</h3>
            <button class="close-admin" onclick="Utils.toggleAdminPanel()">‚úï</button>
        </div>
        <div class="admin-content">
            <div class="admin-section">
                <h4>üìä Estad√≠sticas</h4>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="suggestionsCount">0</span>
                        <span class="stat-label">Sugerencias</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="timelineCount">0</span>
                        <span class="stat-label">Timeline</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="galleryCount">0</span>
                        <span class="stat-label">Fotos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="repliesCount">0</span>
                        <span class="stat-label">Respuestas</span>
                    </div>
                </div>
            </div>
            
            <div class="admin-section">
                <h4>üíæ Gesti√≥n de Datos</h4>
                <div class="admin-buttons">
                    <button class="admin-btn export-btn" onclick="dataManager.exportData()">
                        üì§ Exportar Datos
                    </button>
                    <button class="admin-btn import-btn" onclick="Utils.importData()">
                        üì• Importar Datos
                    </button>
                    <input type="file" id="importFile" accept=".json" style="display: none;" onchange="Utils.handleImport(event)">
                </div>
            </div>   

        </div>
    </div>

    <!-- Formulario para agregar evento al timeline -->
    <div class="modal-overlay" id="timelineModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="timelineModalTitle">‚ûï Agregar Nuevo Momento</h3>
                <button class="close-modal" onclick="Utils.closeTimelineModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <form id="addTimelineForm">
                    <input type="hidden" id="timelineItemId">
                    <div class="form-group">
                        <label for="timelineDate">üìÖ Fecha:</label>
                        <input type="date" id="timelineDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="timelineTitle">üìù T√≠tulo:</label>
                        <input type="text" id="timelineTitle" placeholder="Ej: Nuestro primer viaje juntos" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="timelineDescription">üí≠ Descripci√≥n:</label>
                        <textarea id="timelineDescription" placeholder="Describe este momento especial..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="timelineLocation">üìç Ubicaci√≥n:</label>
                        <input type="text" id="timelineLocation" placeholder="Ej: En el centro de la ciudad">
                    </div>
                    
                    <div class="form-group">
                        <label for="timelineTime">‚è∞ Momento del d√≠a:</label>
                        <input type="text" id="timelineTime" placeholder="Ej: Atardecer m√°gico">
                    </div>
                    
                    <div class="form-group">
                        <label for="timelineIcon">üéØ Icono:</label>
                        <select id="timelineIcon">
                            <option value="üíï">üíï Amor</option>
                            <option value="‚òï">‚òï Caf√©</option>
                            <option value="üíã">üíã Beso</option>
                            <option value="üåª">üåª Girasol</option>
                            <option value="üå∑">üå∑ Tulip√°n</option>
                            <option value="üéâ">üéâ Celebraci√≥n</option>
                            <option value="‚úàÔ∏è">‚úàÔ∏è Viaje</option>
                            <option value="üçï">üçï Comida</option>
                            <option value="üé¨">üé¨ Pel√≠cula</option>
                            <option value="üéµ">üéµ M√∫sica</option>
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="cancel-btn" onclick="Utils.closeTimelineModal()">
                            ‚ùå Cancelar
                        </button>
                        <button type="submit" class="save-btn" id="timelineSaveBtn">
                            üíæ Guardar Momento
                        </button>
                        <button type="button" class="delete-btn" id="timelineDeleteBtn" style="display: none;" onclick="Utils.deleteTimelineItem()"
                            üóëÔ∏è Eliminar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Formulario para agregar/editar recuerdo de galer√≠a -->
    <div class="modal-overlay" id="galleryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="galleryModalTitle">üì∏ Agregar Nuevo Recuerdo</h3>
                <button class="close-modal" onclick="Utils.closeGalleryModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <form id="addGalleryForm">
                    <!-- Im√°genes existentes (solo al editar) -->
                    <div class="form-group" id="currentImagesPreview" style="display:none;">
                        <label>üì∑ Im√°genes actuales:</label>
                        <div class="existing-images-grid">
                            <!-- Las im√°genes se cargar√°n din√°micamente aqu√≠ -->
                        </div>
                    </div>
                    
                    <input type="hidden" id="galleryItemId">
                    <input type="hidden" id="galleryExistingImages" value="[]">
                    
                    <div class="form-group">
                        <label for="galleryTitle">üìù T√≠tulo:</label>
                        <input type="text" id="galleryTitle" placeholder="Ej: Nuestro primer viaje juntos" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="galleryDescription">üí≠ Descripci√≥n:</label>
                        <textarea id="galleryDescription" placeholder="Describe este recuerdo especial..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="galleryImageFile">üñºÔ∏è Im√°genes:</label>
                        <input type="file" id="galleryImageFile" accept="image/*" multiple>
                        <small>Selecciona una o m√°s im√°genes para subir (mant√©n presionado Ctrl/Click para seleccionar m√∫ltiples)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="galleryDate">üìÖ Fecha:</label>
                        <input type="date" id="galleryDate" required>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="cancel-btn" onclick="Utils.closeGalleryModal()">
                            ‚ùå Cancelar
                        </button>
                        <button type="submit" class="save-btn" id="gallerySaveBtn">
                            üíæ Guardar Recuerdo
                        </button>
                        <button type="button" class="delete-btn" id="galleryDeleteBtn" style="display: none;" onclick="Utils.deleteGalleryItem()">
                            üóëÔ∏è Eliminar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal de Login Rom√°ntico -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal-content login-modal">
            <div class="login-container">
                <div class="login-header">
                    <div class="heart-animation">üíï</div>
                    <h2>Bienvenida a nuestra p√°gina</h2>
                    <p>Ingresa tus datos para acceder a todas las funciones especiales</p>
                </div>
                
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <label for="loginUsuario">üë§ Usuario:</label>
                        <input type="text" id="loginUsuario" placeholder="Tu nombre de usuario especial" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">üîí Contrase√±a:</label>
                        <input type="password" id="loginPassword" placeholder="Tu contrase√±a secreta" required>
                    </div>
                    
                    <div class="login-actions">
                        <button type="submit" class="login-btn">
                            <span>üíï Iniciar Sesi√≥n</span>
                        </button>
                        <button type="button" class="guest-btn" onclick="authUI.loginAsGuest()">
                            <span>üëã Continuar como Invitado</span>
                        </button>
                    </div>
                </form>
                
                <div class="login-info">
                    <p><strong>Ingresa tus credenciales:</strong></p>
                    <p>üí´ <strong>foquito</strong> - Para Daniel</p>
                    <p>‚ú® <strong>amuletito</strong> - Para Betzi</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bot√≥n flotante para administraci√≥n -->
    <span id="userNameDisplay" class="user-name-display"></span>
    <button class="admin-toggle" onclick="Utils.toggleAdminPanel()">
        ‚öôÔ∏è
    </button>

    <!-- Bot√≥n flotante para cerrar sesi√≥n -->
    <button class="logout-toggle" id="logoutBtn" onclick="authUI.logout()" style="display: none;">
        üëã
    </button>

    <script src="https://unpkg.com/@supabase/supabase-js@2" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@3.6.0/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script src="js/config.js" defer></script>
    <script src="js/supabase-config.js" defer></script>
    <script src="js/data.js" defer></script>
    <script src="js/effects.js" defer></script>
    <script src="js/utils.js" defer></script>
    <script src="js/auth.js" defer></script>
    <script src="js/auth-ui.js" defer></script>
    <script src="js/script.js" defer></script>

    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
     
</body>
</html>